'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = reduce;

var _cons = require('./cons');

var _cons2 = _interopRequireDefault(_cons);

var _first = require('./first');

var _first2 = _interopRequireDefault(_first);

var _juxt = require('./juxt');

var _juxt2 = _interopRequireDefault(_juxt);

var _next = require('./next');

var _next2 = _interopRequireDefault(_next);

var _tee = require('./tee');

var _tee2 = _interopRequireDefault(_tee);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function reduce(...args) {
  const [f, val, coll] = (() => {
    switch (args.length) {
      case 0:
        throw 'Invalid arguments';

      case 1:
        throw 'Invalid arguments';

      case 2:
        return (0, _cons2.default)(args[0], (0, _juxt2.default)(_first2.default, _next2.default)(args[1]));

      default:
        return args;
    }
  })();

  let acc = val;

  for (const x of coll) {
    acc = f(acc, x);

    if (acc.hasOwnProperty('@@reducedValue')) {
      acc = acc['@@reducedValue'];
      break;
    }
  }

  return acc;
}